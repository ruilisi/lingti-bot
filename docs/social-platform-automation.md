# 社交平台自动化

> 通过 MCP + Chrome 浏览器能力，让 AI 代替你操作知乎、小红书等中国主流内容平台

## 概述

lingti-bot 将浏览器自动化能力与 AI 深度结合，针对中国主流内容平台提供**智能化运营**支持。不同于传统的 RPA 脚本录制回放，lingti-bot 的方案是：

1. **AI 理解语义** — 通过无障碍树快照读取页面结构，理解每个元素的含义
2. **MCP 驱动操作** — 通过 MCP 协议（内置 CDP 引擎或 Chrome MCP Server）精准操作浏览器
3. **复用登录态** — 在你已登录的 Chrome 中操作，无需提供账号密码
4. **自然语言指令** — 用中文告诉 AI 你想做什么，AI 自动完成全部步骤

## 平台支持状态

| 平台 | 发帖/回答 | 评论 | 点赞/收藏 | 搜索/浏览 | 状态 |
|------|:---------:|:----:|:---------:|:---------:|------|
| **知乎** | ✅ | ✅ | ✅ | ✅ | 已支持 |
| **小红书** | 🔜 | 🔜 | 🔜 | 🔜 | 规划中 |
| **微博** | 🔜 | 🔜 | 🔜 | 🔜 | 规划中 |
| **抖音（网页版）** | 🔜 | 🔜 | 🔜 | 🔜 | 规划中 |
| **B站** | 🔜 | 🔜 | 🔜 | 🔜 | 规划中 |
| **今日头条** | 🔜 | 🔜 | 🔜 | 🔜 | 规划中 |

## 知乎（已支持）

### 支持的操作

- **回答问题** — 打开知乎问题页面，AI 撰写回答并提交
- **发表评论** — 在回答或文章下方发表评论
- **点赞/收藏** — 给回答、文章点赞或收藏
- **搜索浏览** — 搜索关键词，浏览搜索结果
- **截图** — 截取知乎页面截图

### 使用示例

```
"帮我在知乎上回答这个问题，内容围绕 Go 语言的优势"
"打开知乎这篇文章，帮我写一条评论"
"帮我给这篇知乎回答点个赞"
"在知乎搜索 'AI 编程' 并截图前三个结果"
```

### 技术细节

知乎的富文本编辑器使用 contenteditable div，lingti-bot 通过以下方式处理：

- 通过快照定位编辑器和按钮元素
- 使用 ClipboardEvent 模拟粘贴操作写入内容（绕过 contenteditable 兼容性问题）
- 自动处理评论展开/折叠、编辑器弹出等交互流程

## 工作原理

### 架构

```
用户（自然语言）
    ↓
AI Agent（理解意图 + 规划步骤）
    ↓
MCP 工具调用（browser_snapshot → browser_click → browser_type → ...）
    ↓
Chrome（CDP 协议 / Chrome MCP Server）
    ↓
目标平台（知乎/小红书/...）
```

### 两种浏览器控制方式

| 方式 | 说明 | 适用场景 |
|------|------|----------|
| **内置 CDP 引擎** | lingti-bot 自带的 go-rod 浏览器引擎 | MCP Server 模式、消息网关模式 |
| **Chrome MCP Server** | 通过 Chrome DevTools MCP 协议 | Claude Code 等 MCP 客户端直接使用 |

两种方式都复用你已有的 Chrome 窗口和登录态，操作体验一致。

### 前置条件

1. Chrome 以调试端口启动（或配置 Chrome MCP Server）
2. 在 Chrome 中已登录目标平台账号
3. lingti-bot 已配置 CDP 连接

```yaml
# ~/.lingti.yaml
browser:
  cdp_url: "127.0.0.1:9222"
```

## 规划中的平台

### 小红书（下一步重点）

- 发布笔记（图文/视频）
- 评论互动
- 点赞/收藏/关注
- 搜索浏览

### 微博

- 发微博
- 转发/评论
- 点赞
- 话题互动

### B站

- 发布动态
- 视频评论
- 点赞/投币/收藏
- 搜索浏览

### 抖音（网页版）

- 视频浏览
- 评论互动
- 点赞/收藏

### 今日头条

- 发布文章
- 评论互动
- 搜索浏览

## 与传统 RPA 的区别

| | lingti-bot | 传统 RPA（按键精灵等） |
|---|---|---|
| **定位方式** | 无障碍树语义理解 | 坐标/图像匹配 |
| **抗变化** | 强（理解元素含义） | 弱（UI 变化即失效） |
| **灵活性** | 自然语言指令，随时调整 | 预录脚本，修改成本高 |
| **智能程度** | AI 自动处理异常和弹窗 | 需要预设所有分支 |
| **内容生成** | AI 自动生成内容 | 需要预先准备内容 |

## 注意事项

- 请遵守各平台的使用条款和社区规范
- 建议控制操作频率，避免触发平台反作弊机制
- 社交平台自动化功能仅供个人效率提升使用
- AI 生成的内容请在发布前审核确认
